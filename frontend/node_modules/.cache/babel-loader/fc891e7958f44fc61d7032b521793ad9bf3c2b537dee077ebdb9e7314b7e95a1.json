{"ast":null,"code":"var _jsxFileName = \"/workspaces/FHE-Voting/frontend/src/pages/Vote.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useWallet } from \"../contexts/WalletContext\";\nimport { useFHE } from \"../contexts/FHEContext\";\nimport { FHEVotingContractService } from \"../services/contractService\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { Vote, Shield, Clock, Users, CheckCircle, AlertCircle, ArrowLeft } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VotePage = () => {\n  _s();\n  const {\n    proposalId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    isConnected,\n    account,\n    signer\n  } = useWallet();\n  const {\n    isInitialized,\n    encryptVote\n  } = useFHE();\n  const [proposal, setProposal] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [voting, setVoting] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [hasVoted, setHasVoted] = useState(false);\n  const [showPrivacyNotice, setShowPrivacyNotice] = useState(true);\n  useEffect(() => {\n    if (isConnected && isInitialized && proposalId) {\n      loadProposal();\n    }\n  }, [isConnected, isInitialized, proposalId]);\n  const loadProposal = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      if (!account || !signer) {\n        throw new Error(\"No wallet account or signer found.\");\n      }\n      const proposalIdNum = parseInt(proposalId);\n\n      // Create FHE contract service\n      const fheContractService = new FHEVotingContractService(signer.provider, signer);\n\n      // Load real proposal from contract\n      const proposalData = await fheContractService.getProposalInfo(proposalIdNum);\n      setProposal(proposalData);\n\n      // Check if user has already voted\n      const userVoted = await fheContractService.hasVoted(proposalIdNum, account);\n      setHasVoted(userVoted);\n    } catch (err) {\n      console.error(\"Error loading proposal:\", err);\n      setError(\"Failed to load proposal. Please check your connection and try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getProposalStatus = proposal => {\n    const now = Date.now();\n    if (!proposal.isActive) {\n      return {\n        status: \"ended\",\n        label: \"Voting Ended\",\n        color: \"status-ended\"\n      };\n    }\n    if (now < Number(proposal.startTime) * 1000) {\n      return {\n        status: \"pending\",\n        label: \"Voting Pending\",\n        color: \"status-pending\"\n      };\n    }\n    if (now >= Number(proposal.startTime) * 1000 && now <= Number(proposal.endTime) * 1000) {\n      return {\n        status: \"active\",\n        label: \"Voting Active\",\n        color: \"status-active\"\n      };\n    }\n    return {\n      status: \"ended\",\n      label: \"Voting Ended\",\n      color: \"status-ended\"\n    };\n  };\n  const formatTime = timestamp => {\n    const date = new Date(Number(timestamp) * 1000);\n    return formatDistanceToNow(date, {\n      addSuffix: true\n    });\n  };\n  const canVote = proposal => {\n    const now = Date.now();\n    return proposal.isActive && now >= Number(proposal.startTime) * 1000 && now <= Number(proposal.endTime) * 1000 && !hasVoted;\n  };\n  const handleVote = async () => {\n    if (!selectedOption || !proposal || !account) return;\n    try {\n      setVoting(true);\n      setError(null);\n      if (!signer) {\n        throw new Error(\"No wallet signer found. Please reconnect your wallet.\");\n      }\n\n      // Debug: Log proposal details before voting\n      console.log(\"Debug - Proposal details:\", {\n        id: proposal.id,\n        title: proposal.title,\n        isActive: proposal.isActive,\n        startTime: Number(proposal.startTime),\n        endTime: Number(proposal.endTime),\n        currentTime: Math.floor(Date.now() / 1000),\n        canVote: canVote(proposal),\n        hasVoted: hasVoted,\n        account: account\n      });\n\n      // Use FHE for voting\n      let tx;\n      try {\n        // Convert option to number (0 = Yes, 1 = No) for FHE\n        const voteOption = selectedOption === \"Yes\" ? 0 : 1;\n\n        // Encrypt the vote using FHE\n        console.log(\"Encrypting vote with FHE:\", voteOption);\n        const {\n          encryptedVote,\n          proof\n        } = await encryptVote(voteOption);\n        console.log(\"Encrypted vote:\", encryptedVote);\n        console.log(\"Proof:\", proof);\n\n        // Create FHE contract service and submit vote\n        const fheContractService = new FHEVotingContractService(signer.provider, signer);\n        console.log(\"Submitting FHE vote to contract...\");\n        tx = await fheContractService.vote(Number(proposal.id), encryptedVote, proof);\n        console.log(\"FHE vote transaction submitted:\", tx.hash);\n      } catch (fheError) {\n        console.log(\"FHE voting failed:\", fheError.message);\n        throw fheError; // Re-throw to be handled by the caller\n      }\n\n      // Wait for transaction confirmation\n      const receipt = await tx.wait();\n      console.log(\"Vote transaction confirmed:\", receipt === null || receipt === void 0 ? void 0 : receipt.hash);\n      setSuccess(true);\n      setHasVoted(true);\n\n      // Redirect to proposals page after a short delay\n      setTimeout(() => {\n        navigate(\"/proposals\");\n      }, 3000);\n    } catch (err) {\n      var _err$message;\n      console.error(\"Error casting vote:\", err);\n\n      // Handle specific contract errors\n      if (err.code === \"ACTION_REJECTED\") {\n        setError(\"Transaction was rejected by user.\");\n      } else if (err.code === \"INSUFFICIENT_FUNDS\") {\n        setError(\"Insufficient funds for gas. Please ensure you have enough Sepolia ETH.\");\n      } else if ((_err$message = err.message) !== null && _err$message !== void 0 && _err$message.includes(\"execution reverted\")) {\n        setError(\"Transaction failed. Please check if you are eligible to vote on this proposal.\");\n      } else {\n        setError(`Failed to cast vote: ${err.message || \"Unknown error\"}`);\n      }\n    } finally {\n      setVoting(false);\n    }\n  };\n  if (!isConnected) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-16 h-16 text-gray-400 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-4\",\n          children: \"Wallet Not Connected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: \"Please connect your wallet to participate in voting.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/\"),\n          className: \"btn-primary\",\n          children: \"Go to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n  if (!isInitialized) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-4\",\n          children: \"Initializing FHE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Setting up Full Homomorphic Encryption for secure voting...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Loading proposal...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this);\n  }\n  if (!proposal) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-16 h-16 text-gray-400 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-4\",\n          children: \"Proposal Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: \"The proposal you're looking for doesn't exist or has been removed.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/proposals\"),\n          className: \"btn-primary\",\n          children: \"Back to Proposals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this);\n  }\n  if (success) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-16 h-16 text-success-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-4\",\n          children: \"Vote Cast Successfully!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: \"Your encrypted vote has been recorded on the blockchain. Thank you for participating!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-pulse text-sm text-gray-500\",\n          children: \"Redirecting to proposals page...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this);\n  }\n  const status = getProposalStatus(proposal);\n  const canUserVote = proposal ? canVote(proposal) : false;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/proposals\"),\n        className: \"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Back to Proposals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: proposal.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `status-badge ${status.color}`,\n          children: status.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: proposal.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-4 h-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: [\"Started \", formatTime(proposal.startTime)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-4 h-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: [\"Ends \", formatTime(proposal.endTime)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"w-4 h-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Encrypted votes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Vote, {\n            className: \"w-4 h-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: hasVoted ? \"You voted\" : \"Not voted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), showPrivacyNotice && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card bg-primary-50 border-primary-200 mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(Shield, {\n          className: \"w-5 h-5 text-primary-600 mt-0.5 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-primary-900 mb-1\",\n            children: \"Your Vote is Completely Private\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-primary-800 mb-3\",\n            children: \"Using Full Homomorphic Encryption (FHE), your vote will be encrypted before being sent to the blockchain. No one, including the contract owner or other voters, can see how you voted. Only the final encrypted tallies are visible, which are then decrypted to reveal the results.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowPrivacyNotice(false),\n            className: \"text-sm text-primary-700 hover:text-primary-800 font-medium\",\n            children: \"I understand, hide this notice\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 p-4 bg-error-50 border border-error-200 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-5 h-5 text-error-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-error-800\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }, this), canUserVote ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900 mb-6\",\n        children: \"Cast Your Vote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: \"Select your preferred option. Your choice will be encrypted and recorded on the blockchain.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedOption(\"Yes\"),\n            className: `p-6 border-2 rounded-lg text-center transition-all ${selectedOption === \"Yes\" ? \"border-primary-500 bg-primary-50 text-primary-700\" : \"border-gray-200 hover:border-primary-300 hover:bg-gray-50\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold mb-2\",\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Support the proposal as described\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedOption(\"No\"),\n            className: `p-6 border-2 rounded-lg text-center transition-all ${selectedOption === \"No\" ? \"border-primary-500 bg-primary-50 text-primary-700\" : \"border-gray-200 hover:border-primary-300 hover:bg-gray-50\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold mb-2\",\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Oppose the proposal as described\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleVote,\n        disabled: !selectedOption || voting,\n        className: \"btn-primary w-full py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed\",\n        children: voting ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Encrypting and Submitting Vote...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Shield, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Cast Encrypted Vote\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }, this) : hasVoted ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card text-center\",\n      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n        className: \"w-16 h-16 text-success-600 mx-auto mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900 mb-2\",\n        children: \"You've Already Voted\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: \"You have already cast your vote on this proposal. Thank you for participating!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/proposals\"),\n        className: \"btn-primary\",\n        children: \"Back to Proposals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 9\n    }, this) : status.status === \"ended\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Clock, {\n        className: \"w-16 h-16 text-gray-400 mx-auto mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900 mb-2\",\n        children: \"Voting Has Ended\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: \"The voting period for this proposal has ended. You can view the results on the proposals page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/proposals\"),\n        className: \"btn-primary\",\n        children: \"View Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 9\n    }, this) : status.status === \"pending\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Clock, {\n        className: \"w-16 h-16 text-warning-400 mx-auto mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900 mb-2\",\n        children: \"Voting Hasn't Started Yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: [\"Voting for this proposal will begin \", formatTime(proposal.startTime), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/proposals\"),\n        className: \"btn-primary\",\n        children: \"Back to Proposals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n};\n_s(VotePage, \"aIZqOhk31yQ8lKO2afAeSfUiWZo=\", false, function () {\n  return [useParams, useNavigate, useWallet, useFHE];\n});\n_c = VotePage;\nexport default VotePage;\nvar _c;\n$RefreshReg$(_c, \"VotePage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useWallet","useFHE","FHEVotingContractService","formatDistanceToNow","Vote","Shield","Clock","Users","CheckCircle","AlertCircle","ArrowLeft","jsxDEV","_jsxDEV","VotePage","_s","proposalId","navigate","isConnected","account","signer","isInitialized","encryptVote","proposal","setProposal","loading","setLoading","voting","setVoting","error","setError","success","setSuccess","selectedOption","setSelectedOption","hasVoted","setHasVoted","showPrivacyNotice","setShowPrivacyNotice","loadProposal","Error","proposalIdNum","parseInt","fheContractService","provider","proposalData","getProposalInfo","userVoted","err","console","getProposalStatus","now","Date","isActive","status","label","color","Number","startTime","endTime","formatTime","timestamp","date","addSuffix","canVote","handleVote","log","id","title","currentTime","Math","floor","tx","voteOption","encryptedVote","proof","vote","hash","fheError","message","receipt","wait","setTimeout","_err$message","code","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","canUserVote","description","disabled","_c","$RefreshReg$"],"sources":["/workspaces/FHE-Voting/frontend/src/pages/Vote.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useWallet } from \"../contexts/WalletContext\";\nimport { useFHE } from \"../contexts/FHEContext\";\nimport { FHEVotingContractService } from \"../services/contractService\";\nimport { ProposalInfo } from \"../types\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { ethers } from \"ethers\";\nimport { Vote, Shield, Clock, Users, CheckCircle, AlertCircle, ArrowLeft } from \"lucide-react\";\n\nconst VotePage: React.FC = () => {\n  const { proposalId } = useParams<{ proposalId: string }>();\n  const navigate = useNavigate();\n  const { isConnected, account, signer } = useWallet();\n  const { isInitialized, encryptVote } = useFHE();\n\n  const [proposal, setProposal] = useState<ProposalInfo | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [voting, setVoting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n  const [selectedOption, setSelectedOption] = useState<\"Yes\" | \"No\" | null>(null);\n  const [hasVoted, setHasVoted] = useState(false);\n  const [showPrivacyNotice, setShowPrivacyNotice] = useState(true);\n\n  useEffect(() => {\n    if (isConnected && isInitialized && proposalId) {\n      loadProposal();\n    }\n  }, [isConnected, isInitialized, proposalId]);\n\n  const loadProposal = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      if (!account || !signer) {\n        throw new Error(\"No wallet account or signer found.\");\n      }\n\n      const proposalIdNum = parseInt(proposalId!);\n\n      // Create FHE contract service\n      const fheContractService = new FHEVotingContractService(signer.provider!, signer);\n\n      // Load real proposal from contract\n      const proposalData = await fheContractService.getProposalInfo(proposalIdNum);\n      setProposal(proposalData);\n\n      // Check if user has already voted\n      const userVoted = await fheContractService.hasVoted(proposalIdNum, account);\n      setHasVoted(userVoted);\n    } catch (err: any) {\n      console.error(\"Error loading proposal:\", err);\n      setError(\"Failed to load proposal. Please check your connection and try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getProposalStatus = (proposal: ProposalInfo) => {\n    const now = Date.now();\n\n    if (!proposal.isActive) {\n      return { status: \"ended\", label: \"Voting Ended\", color: \"status-ended\" };\n    }\n\n    if (now < Number(proposal.startTime) * 1000) {\n      return { status: \"pending\", label: \"Voting Pending\", color: \"status-pending\" };\n    }\n\n    if (now >= Number(proposal.startTime) * 1000 && now <= Number(proposal.endTime) * 1000) {\n      return { status: \"active\", label: \"Voting Active\", color: \"status-active\" };\n    }\n\n    return { status: \"ended\", label: \"Voting Ended\", color: \"status-ended\" };\n  };\n\n  const formatTime = (timestamp: ethers.BigNumberish) => {\n    const date = new Date(Number(timestamp) * 1000);\n    return formatDistanceToNow(date, { addSuffix: true });\n  };\n\n  const canVote = (proposal: ProposalInfo) => {\n    const now = Date.now();\n    return (\n      proposal.isActive &&\n      now >= Number(proposal.startTime) * 1000 &&\n      now <= Number(proposal.endTime) * 1000 &&\n      !hasVoted\n    );\n  };\n\n  const handleVote = async () => {\n    if (!selectedOption || !proposal || !account) return;\n\n    try {\n      setVoting(true);\n      setError(null);\n\n      if (!signer) {\n        throw new Error(\"No wallet signer found. Please reconnect your wallet.\");\n      }\n\n      // Debug: Log proposal details before voting\n      console.log(\"Debug - Proposal details:\", {\n        id: proposal.id,\n        title: proposal.title,\n        isActive: proposal.isActive,\n        startTime: Number(proposal.startTime),\n        endTime: Number(proposal.endTime),\n        currentTime: Math.floor(Date.now() / 1000),\n        canVote: canVote(proposal),\n        hasVoted: hasVoted,\n        account: account,\n      });\n\n      // Use FHE for voting\n      let tx;\n      try {\n        // Convert option to number (0 = Yes, 1 = No) for FHE\n        const voteOption = selectedOption === \"Yes\" ? 0 : 1;\n\n        // Encrypt the vote using FHE\n        console.log(\"Encrypting vote with FHE:\", voteOption);\n        const { encryptedVote, proof } = await encryptVote(voteOption);\n        console.log(\"Encrypted vote:\", encryptedVote);\n        console.log(\"Proof:\", proof);\n\n        // Create FHE contract service and submit vote\n        const fheContractService = new FHEVotingContractService(signer.provider!, signer);\n        console.log(\"Submitting FHE vote to contract...\");\n        tx = await fheContractService.vote(Number(proposal.id), encryptedVote, proof);\n        console.log(\"FHE vote transaction submitted:\", tx.hash);\n      } catch (fheError: any) {\n        console.log(\"FHE voting failed:\", fheError.message);\n        throw fheError; // Re-throw to be handled by the caller\n      }\n\n      // Wait for transaction confirmation\n      const receipt = await tx.wait();\n      console.log(\"Vote transaction confirmed:\", receipt?.hash);\n\n      setSuccess(true);\n      setHasVoted(true);\n\n      // Redirect to proposals page after a short delay\n      setTimeout(() => {\n        navigate(\"/proposals\");\n      }, 3000);\n    } catch (err: any) {\n      console.error(\"Error casting vote:\", err);\n\n      // Handle specific contract errors\n      if (err.code === \"ACTION_REJECTED\") {\n        setError(\"Transaction was rejected by user.\");\n      } else if (err.code === \"INSUFFICIENT_FUNDS\") {\n        setError(\"Insufficient funds for gas. Please ensure you have enough Sepolia ETH.\");\n      } else if (err.message?.includes(\"execution reverted\")) {\n        setError(\"Transaction failed. Please check if you are eligible to vote on this proposal.\");\n      } else {\n        setError(`Failed to cast vote: ${err.message || \"Unknown error\"}`);\n      }\n    } finally {\n      setVoting(false);\n    }\n  };\n\n  if (!isConnected) {\n    return (\n      <div className=\"text-center py-16\">\n        <div className=\"max-w-md mx-auto\">\n          <AlertCircle className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Wallet Not Connected</h2>\n          <p className=\"text-gray-600 mb-6\">Please connect your wallet to participate in voting.</p>\n          <button onClick={() => navigate(\"/\")} className=\"btn-primary\">\n            Go to Home\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isInitialized) {\n    return (\n      <div className=\"text-center py-16\">\n        <div className=\"max-w-md mx-auto\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Initializing FHE</h2>\n          <p className=\"text-gray-600\">Setting up Full Homomorphic Encryption for secure voting...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-16\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n        <p className=\"text-gray-600\">Loading proposal...</p>\n      </div>\n    );\n  }\n\n  if (!proposal) {\n    return (\n      <div className=\"text-center py-16\">\n        <div className=\"max-w-md mx-auto\">\n          <AlertCircle className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Proposal Not Found</h2>\n          <p className=\"text-gray-600 mb-6\">The proposal you're looking for doesn't exist or has been removed.</p>\n          <button onClick={() => navigate(\"/proposals\")} className=\"btn-primary\">\n            Back to Proposals\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (success) {\n    return (\n      <div className=\"text-center py-16\">\n        <div className=\"max-w-md mx-auto\">\n          <CheckCircle className=\"w-16 h-16 text-success-600 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Vote Cast Successfully!</h2>\n          <p className=\"text-gray-600 mb-6\">\n            Your encrypted vote has been recorded on the blockchain. Thank you for participating!\n          </p>\n          <div className=\"animate-pulse text-sm text-gray-500\">Redirecting to proposals page...</div>\n        </div>\n      </div>\n    );\n  }\n\n  const status = getProposalStatus(proposal);\n  const canUserVote = proposal ? canVote(proposal) : false;\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {/* Back Button */}\n      <div className=\"mb-6\">\n        <button\n          onClick={() => navigate(\"/proposals\")}\n          className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          <span>Back to Proposals</span>\n        </button>\n      </div>\n\n      {/* Proposal Header */}\n      <div className=\"card mb-6\">\n        <div className=\"flex items-start justify-between mb-4\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">{proposal.title}</h1>\n          <span className={`status-badge ${status.color}`}>{status.label}</span>\n        </div>\n\n        <p className=\"text-gray-600 mb-6\">{proposal.description}</p>\n\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n          <div className=\"flex items-center space-x-2\">\n            <Clock className=\"w-4 h-4 text-gray-400\" />\n            <span className=\"text-gray-600\">Started {formatTime(proposal.startTime)}</span>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <Clock className=\"w-4 h-4 text-gray-400\" />\n            <span className=\"text-gray-600\">Ends {formatTime(proposal.endTime)}</span>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <Users className=\"w-4 h-4 text-gray-400\" />\n            <span className=\"text-gray-600\">Encrypted votes</span>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <Vote className=\"w-4 h-4 text-gray-400\" />\n            <span className=\"text-gray-600\">{hasVoted ? \"You voted\" : \"Not voted\"}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Privacy Notice */}\n      {showPrivacyNotice && (\n        <div className=\"card bg-primary-50 border-primary-200 mb-6\">\n          <div className=\"flex items-start space-x-3\">\n            <Shield className=\"w-5 h-5 text-primary-600 mt-0.5 flex-shrink-0\" />\n            <div className=\"flex-1\">\n              <h4 className=\"text-sm font-medium text-primary-900 mb-1\">Your Vote is Completely Private</h4>\n              <p className=\"text-sm text-primary-800 mb-3\">\n                Using Full Homomorphic Encryption (FHE), your vote will be encrypted before being sent to the\n                blockchain. No one, including the contract owner or other voters, can see how you voted. Only the final\n                encrypted tallies are visible, which are then decrypted to reveal the results.\n              </p>\n              <button\n                onClick={() => setShowPrivacyNotice(false)}\n                className=\"text-sm text-primary-700 hover:text-primary-800 font-medium\"\n              >\n                I understand, hide this notice\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"mb-6 p-4 bg-error-50 border border-error-200 rounded-lg\">\n          <div className=\"flex items-center space-x-2\">\n            <AlertCircle className=\"w-5 h-5 text-error-600\" />\n            <span className=\"text-error-800\">{error}</span>\n          </div>\n        </div>\n      )}\n\n      {/* Voting Interface */}\n      {canUserVote ? (\n        <div className=\"card\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Cast Your Vote</h2>\n\n          <div className=\"mb-6\">\n            <p className=\"text-gray-600 mb-4\">\n              Select your preferred option. Your choice will be encrypted and recorded on the blockchain.\n            </p>\n\n            <div className=\"grid md:grid-cols-2 gap-4\">\n              <button\n                onClick={() => setSelectedOption(\"Yes\")}\n                className={`p-6 border-2 rounded-lg text-center transition-all ${\n                  selectedOption === \"Yes\"\n                    ? \"border-primary-500 bg-primary-50 text-primary-700\"\n                    : \"border-gray-200 hover:border-primary-300 hover:bg-gray-50\"\n                }`}\n              >\n                <div className=\"text-2xl font-bold mb-2\">Yes</div>\n                <div className=\"text-sm text-gray-600\">Support the proposal as described</div>\n              </button>\n\n              <button\n                onClick={() => setSelectedOption(\"No\")}\n                className={`p-6 border-2 rounded-lg text-center transition-all ${\n                  selectedOption === \"No\"\n                    ? \"border-primary-500 bg-primary-50 text-primary-700\"\n                    : \"border-gray-200 hover:border-primary-300 hover:bg-gray-50\"\n                }`}\n              >\n                <div className=\"text-2xl font-bold mb-2\">No</div>\n                <div className=\"text-sm text-gray-600\">Oppose the proposal as described</div>\n              </button>\n            </div>\n          </div>\n\n          <button\n            onClick={handleVote}\n            disabled={!selectedOption || voting}\n            className=\"btn-primary w-full py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {voting ? (\n              <div className=\"flex items-center justify-center space-x-2\">\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\n                <span>Encrypting and Submitting Vote...</span>\n              </div>\n            ) : (\n              <div className=\"flex items-center justify-center space-x-2\">\n                <Shield className=\"w-5 h-5\" />\n                <span>Cast Encrypted Vote</span>\n              </div>\n            )}\n          </button>\n        </div>\n      ) : hasVoted ? (\n        <div className=\"card text-center\">\n          <CheckCircle className=\"w-16 h-16 text-success-600 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">You've Already Voted</h2>\n          <p className=\"text-gray-600 mb-6\">\n            You have already cast your vote on this proposal. Thank you for participating!\n          </p>\n          <button onClick={() => navigate(\"/proposals\")} className=\"btn-primary\">\n            Back to Proposals\n          </button>\n        </div>\n      ) : status.status === \"ended\" ? (\n        <div className=\"card text-center\">\n          <Clock className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Voting Has Ended</h2>\n          <p className=\"text-gray-600 mb-6\">\n            The voting period for this proposal has ended. You can view the results on the proposals page.\n          </p>\n          <button onClick={() => navigate(\"/proposals\")} className=\"btn-primary\">\n            View Results\n          </button>\n        </div>\n      ) : status.status === \"pending\" ? (\n        <div className=\"card text-center\">\n          <Clock className=\"w-16 h-16 text-warning-400 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Voting Hasn't Started Yet</h2>\n          <p className=\"text-gray-600 mb-6\">Voting for this proposal will begin {formatTime(proposal.startTime)}.</p>\n          <button onClick={() => navigate(\"/proposals\")} className=\"btn-primary\">\n            Back to Proposals\n          </button>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default VotePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}